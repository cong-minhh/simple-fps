<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vercel FPS: Low-Poly Arena</title>
  <meta name="description" content="A minimalistic low-poly FPS game - survive waves of enemies in a fast-paced arena!">
  <link rel="stylesheet" href="/src/styles.css">
</head>

<body>
  <!-- Game Canvas Container -->
  <div id="game-container"></div>

  <!-- HUD Overlay -->
  <div id="hud" class="hidden">
    <div id="crosshair"></div>
    <div id="hitmarker" class="hidden"></div>
    <!-- Reload Indicator -->
    <div id="reload-indicator" class="hidden">
      <div class="reload-progress"></div>
      <span class="reload-text">R</span>
    </div>
    <div id="health-container">
      <div id="health-bar-bg">
        <div id="health-bar"></div>
      </div>
      <span id="health-text">100</span>
    </div>
    <div id="stats">
      <div id="wave">Wave: 1</div>
      <div id="enemies">Enemies: 0</div>
      <div id="timer">Time: 0s</div>
      <div id="score">Score: 0</div>
    </div>
    <!-- Weapon HUD -->
    <div id="weapon-hud">
      <div id="weapon-name">Pistol</div>
      <div id="ammo-count">12 / 12</div>
    </div>
    <!-- Weapon Selector -->
    <div id="weapon-selector">
      <div class="weapon-slot active" data-slot="1">
        <span class="slot-key">1</span>
        <span class="slot-name">Rifle</span>
      </div>
      <div class="weapon-slot" data-slot="2">
        <span class="slot-key">2</span>
        <span class="slot-name">SMG</span>
      </div>
      <div class="weapon-slot" data-slot="3">
        <span class="slot-key">3</span>
        <span class="slot-name">Shotgun</span>
      </div>
      <div class="weapon-slot" data-slot="4">
        <span class="slot-key">4</span>
        <span class="slot-name">Pistol</span>
      </div>
    </div>
    <!-- Enemy Direction Indicators -->
    <div id="enemy-indicators"></div>
  </div>


  <!-- Start Menu -->
  <div id="start-menu" class="menu">
    <div class="menu-content">
      <h1 class="glitch-title" data-text="VERCEL FPS">VERCEL FPS</h1>
      <p class="subtitle">LOW-POLY ARENA</p>

      <div class="menu-controls">
        <button id="start-btn" class="menu-btn primary">
          <span class="btn-text">SOLO MODE</span>
          <span class="btn-bg"></span>
        </button>
        <button id="multiplayer-btn" class="menu-btn primary multiplayer">
          <span class="btn-text">MULTIPLAYER</span>
          <span class="btn-bg"></span>
        </button>
        <button id="settings-btn" class="menu-btn secondary">
          <span class="btn-text">SYSTEM</span>
          <span class="btn-bg"></span>
        </button>
      </div>

      <div class="stats-display">
        <p id="high-score">RECORD // 0</p>
      </div>

      <div class="instructions-panel">
        <div class="key-row"><span>WASD</span> MOVE</div>
        <div class="key-row"><span>SHIFT</span> SPRINT</div>
        <div class="key-row"><span>SPACE</span> JUMP</div>
        <div class="key-row"><span>LMB</span> SHOOT</div>
        <div class="key-row"><span>RMB</span> AIM</div>
        <div class="key-row"><span>TAB</span> SCOREBOARD</div>
      </div>
    </div>
  </div>

  <!-- Multiplayer Lobby -->
  <div id="multiplayer-lobby" class="menu hidden">
    <div class="menu-content">
      <h1 class="glitch-title" data-text="MULTIPLAYER">MULTIPLAYER</h1>
      <p class="subtitle">DEATHMATCH ARENA</p>

      <div class="lobby-form">
        <div class="input-group">
          <label for="player-name">CALL SIGN</label>
          <input type="text" id="player-name" placeholder="Enter your name" maxlength="16" autocomplete="off">
        </div>
        <div class="input-group">
          <label for="server-url">SERVER</label>
          <input type="text" id="server-url" placeholder="ws://localhost:8080" value="ws://localhost:8080">
        </div>
      </div>

      <div class="lobby-controls">
        <button id="connect-btn" class="menu-btn primary">
          <span class="btn-text">CONNECT</span>
          <span class="btn-bg"></span>
        </button>
        <button id="lobby-back-btn" class="menu-btn secondary">
          <span class="btn-text">BACK</span>
          <span class="btn-bg"></span>
        </button>
      </div>

      <div id="lobby-status" class="lobby-status hidden">
        <div class="loader"></div>
        <p id="lobby-status-text">Connecting...</p>
      </div>

      <div id="lobby-players" class="lobby-players hidden">
        <h3>PLAYERS IN LOBBY</h3>
        <ul id="player-list"></ul>
        <p class="waiting-text">Waiting for more players...</p>
      </div>
    </div>
  </div>

  <!-- Multiplayer Game Over -->
  <div id="multiplayer-game-over" class="menu hidden">
    <div class="menu-content">
      <h1 id="mp-result-title" class="glitch-title">GAME OVER</h1>
      <p id="mp-result-subtitle" class="subtitle">MATCH COMPLETE</p>

      <div id="mp-final-scores" class="mp-final-scores">
        <!-- Populated dynamically -->
      </div>

      <div class="menu-controls">
        <button id="mp-play-again-btn" class="menu-btn primary">
          <span class="btn-text">PLAY AGAIN</span>
          <span class="btn-bg"></span>
        </button>
        <button id="mp-menu-btn" class="menu-btn secondary">
          <span class="btn-text">MAIN MENU</span>
          <span class="btn-bg"></span>
        </button>
      </div>
    </div>
  </div>

  <!-- Scoreboard Overlay (shown on TAB) -->
  <div id="scoreboard" class="hidden">
    <div class="scoreboard-container">
      <h2>SCOREBOARD</h2>
      <div class="scoreboard-header">
        <span class="sb-name">PLAYER</span>
        <span class="sb-kills">KILLS</span>
        <span class="sb-deaths">DEATHS</span>
        <span class="sb-kd">K/D</span>
      </div>
      <div id="scoreboard-rows">
        <!-- Populated dynamically -->
      </div>
    </div>
  </div>

  <!-- Kill Feed -->
  <div id="kill-feed">
    <!-- Populated dynamically -->
  </div>

  <!-- Respawn Overlay -->
  <div id="respawn-overlay" class="hidden">
    <div class="respawn-content">
      <h2>YOU DIED</h2>
      <p class="respawn-killer">Killed by <span id="respawn-killer-name">Enemy</span></p>
      <div class="respawn-countdown">
        <span id="respawn-timer">3</span>
      </div>
      <p class="respawn-text">RESPAWNING...</p>
    </div>
  </div>

  <!-- Player Count (multiplayer HUD) -->
  <div id="player-count" class="hidden">
    <span id="player-count-text">Players: 1</span>
  </div>

  <!-- Pause Menu (ESC) -->
  <div id="pause-menu" class="menu hidden">
    <div class="menu-content">
      <h1 class="glitch-title" data-text="PAUSED">PAUSED</h1>
      <p class="subtitle">GAME PAUSED</p>

      <div class="menu-controls">
        <button id="resume-btn" class="menu-btn primary">
          <span class="btn-text">RESUME</span>
          <span class="btn-bg"></span>
        </button>
        <button id="vote-restart-btn" class="menu-btn secondary">
          <span class="btn-text">VOTE RESTART</span>
          <span class="btn-bg"></span>
        </button>
        <button id="pause-settings-btn" class="menu-btn secondary">
          <span class="btn-text">SETTINGS</span>
          <span class="btn-bg"></span>
        </button>
        <button id="disconnect-btn" class="menu-btn danger">
          <span class="btn-text">DISCONNECT</span>
          <span class="btn-bg"></span>
        </button>
      </div>

      <div class="pause-hint">
        <span>ESC</span> to resume
      </div>
    </div>
  </div>

  <!-- Settings Panel -->
  <div id="settings-panel" class="menu hidden">
    <h1>âš™ SETTINGS</h1>
    <div class="settings-content">
      <div class="setting-row">
        <label for="particles-toggle">Particles</label>
        <label class="toggle-switch">
          <input type="checkbox" id="particles-toggle" checked>
          <span class="toggle-slider"></span>
        </label>
      </div>
      <div class="setting-row">
        <label for="flicker-toggle">Flickering Lights</label>
        <label class="toggle-switch">
          <input type="checkbox" id="flicker-toggle" checked>
          <span class="toggle-slider"></span>
        </label>
      </div>
      <div class="setting-row">
        <label for="hitmarker-toggle">Hitmarker</label>
        <label class="toggle-switch">
          <input type="checkbox" id="hitmarker-toggle" checked>
          <span class="toggle-slider"></span>
        </label>
      </div>
      <div class="setting-row">
        <label for="sensitivity-slider">Mouse Sensitivity</label>
        <div class="slider-container">
          <input type="range" id="sensitivity-slider" min="1" max="10" value="5" step="0.5">
          <span id="sensitivity-value">5</span>
        </div>
      </div>
    </div>
    <button id="settings-back-btn">BACK</button>
  </div>

  <!-- Game Over Menu -->
  <div id="game-over-menu" class="menu hidden">
    <h1>GAME OVER</h1>
    <p id="final-score">Score: 0</p>
    <p id="final-time">Survived: 0s</p>
    <p id="new-high-score" class="hidden">NEW HIGH SCORE!</p>
    <button id="restart-btn">PLAY AGAIN</button>
  </div>

  <!-- Loading Screen -->
  <div id="loading" class="menu">
    <h2>Loading...</h2>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>

</html>